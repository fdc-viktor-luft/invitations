var N=Object.defineProperty;var R=(i,t,e)=>t in i?N(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var f=(i,t,e)=>(R(i,typeof t!="symbol"?t+"":t,e),e);import{s as D,n as S,o as B,e as G,f as J}from"../chunks/scheduler.63274e7e.js";import{S as F,i as z,g as M,h as $,j as k,f as b,k as v,a as P,s as I,m as L,c as H,n as O,y as V,x as y,z as Q,d as j,t as C,b as T,r as K,u as U,v as X,w as Y,p as Z}from"../chunks/index.3465d855.js";import{p as tt}from"../chunks/stores.de588379.js";const et=Math.PI*.5,st={outCubic:(i,t,e,s)=>(i/=s,i--,e*(i*i*i+1)+t)},it=()=>{const e=document.querySelector("canvas"),s=e==null?void 0:e.getContext("2d"),o=1/60;if(!e||!s)return;e.width=512,e.height=350;const l=s;class p{constructor(h=0,u=0){f(this,"x");f(this,"y");this.x=h,this.y=u}}class x{constructor(h,u,_,a){f(this,"p0");f(this,"p1");f(this,"p2");f(this,"p3");f(this,"time");f(this,"duration");f(this,"color");f(this,"w");f(this,"h");f(this,"r");f(this,"sy");f(this,"x");f(this,"y");f(this,"complete");this.p0=h,this.p1=u,this.p2=_,this.p3=a,this.time=0,this.duration=3+Math.random()*2,this.color="#"+Math.floor(Math.random()*16777215).toString(16),this.w=8,this.h=6,this.complete=!1,this.r=0,this.sy=0,this.x=0,this.y=0}update(){this.time=Math.min(this.duration,this.time+o);const h=st.outCubic(this.time,0,1,this.duration),u=d(this.p0,this.p1,this.p2,this.p3,h),_=u.x-this.x,a=u.y-this.y;this.r=Math.atan2(a,_)+et,this.sy=Math.sin(Math.PI*h*10),this.x=u.x,this.y=u.y,this.complete=this.time===this.duration}draw(){l.save(),l.translate(this.x,this.y),l.rotate(this.r),l.scale(1,this.sy),l.fillStyle=this.color,l.fillRect(-this.w*.5,-this.h*.5,this.w,this.h),l.restore()}}const w=[];for(let c=0;c<128;c++){const h=new p(256,175),u=new p(Math.random()*512,Math.random()*350),_=new p(Math.random()*512,Math.random()*350),a=new p(Math.random()*512,350+64);w.push(new x(h,u,_,a))}const g=()=>{w.forEach(c=>c.update()),l.clearRect(0,0,512,350),w.forEach(c=>c.draw()),!w.every(c=>c.complete)&&requestAnimationFrame(g)};requestAnimationFrame(g);function d(c,h,u,_,a){const r=new p,n=1-a;return r.x=n*n*n*c.x+3*n*n*a*h.x+3*n*a*a*u.x+a*a*a*_.x,r.y=n*n*n*c.y+3*n*n*a*h.y+3*n*a*a*u.y+a*a*a*_.y,r}};function at(i){let t;return{c(){t=M("canvas"),this.h()},l(e){t=$(e,"CANVAS",{class:!0}),k(t).forEach(b),this.h()},h(){v(t,"class","svelte-gsrs9y")},m(e,s){P(e,t,s)},p:S,i:S,o:S,d(e){e&&b(t)}}}function nt(i){return B(()=>setTimeout(it,600)),[]}class rt extends F{constructor(t){super(),z(this,t,nt,at,D,{})}}function ot(i){let t,e;return{c(){t=M("img"),this.h()},l(s){t=$(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){J(t.src,e=i[2])||v(t,"src",e),v(t,"alt","intro"),v(t,"class","svelte-vjbwlv")},m(s,o){P(s,t,o)},p:S,d(s){s&&b(t)}}}function A(i){let t,e;return t=new rt({}),{c(){K(t.$$.fragment)},l(s){U(t.$$.fragment,s)},m(s,o){X(t,s,o),e=!0},i(s){e||(j(t.$$.fragment,s),e=!0)},o(s){C(t.$$.fragment,s),e=!1},d(s){Y(t,s)}}}function lt(i){let t,e,s,o,l,p,x,w,g,d,c,h,u,_,a=i[2]&&ot(i),r=i[0]&&A();return{c(){t=M("div"),a&&a.c(),e=I(),r&&r.c(),s=I(),o=M("div"),l=M("div"),p=I(),x=M("div"),w=I(),g=M("div"),d=M("p"),c=L(i[1]),this.h()},l(n){t=$(n,"DIV",{class:!0,role:!0,tabindex:!0});var m=k(t);a&&a.l(m),e=H(m),r&&r.l(m),s=H(m),o=$(m,"DIV",{class:!0});var E=k(o);l=$(E,"DIV",{class:!0}),k(l).forEach(b),p=H(E),x=$(E,"DIV",{class:!0}),k(x).forEach(b),w=H(E),g=$(E,"DIV",{class:!0});var q=k(g);d=$(q,"P",{class:!0});var W=k(d);c=O(W,i[1]),W.forEach(b),q.forEach(b),E.forEach(b),m.forEach(b),this.h()},h(){v(l,"class","front flap svelte-vjbwlv"),v(x,"class","front pocket svelte-vjbwlv"),v(d,"class","svelte-vjbwlv"),v(g,"class","letter svelte-vjbwlv"),v(o,"class","envelope svelte-vjbwlv"),V(o,"open",i[0]),v(t,"class","envlope-wrapper svelte-vjbwlv"),v(t,"role","button"),v(t,"tabindex","0")},m(n,m){P(n,t,m),a&&a.m(t,null),y(t,e),r&&r.m(t,null),y(t,s),y(t,o),y(o,l),y(o,p),y(o,x),y(o,w),y(o,g),y(g,d),y(d,c),h=!0,u||(_=Q(t,"click",i[3]),u=!0)},p(n,[m]){n[2]&&a.p(n,m),n[0]?r?m&1&&j(r,1):(r=A(),r.c(),j(r,1),r.m(t,s)):r&&(Z(),C(r,1,1,()=>{r=null}),T()),(!h||m&1)&&V(o,"open",n[0])},i(n){h||(j(r),h=!0)},o(n){C(r),h=!1},d(n){n&&b(t),a&&a.d(),r&&r.d(),u=!1,_()}}}function ct(i,t,e){let s;G(i,tt,d=>e(5,s=d));const o={content:"Here could be your text"};let l=o;try{l=JSON.parse(atob(s.url.searchParams.get("q")||"")||"null")||o}catch{}let p=!1,x=l.content;const w=l.img;return[p,x,w,()=>e(0,p=!0)]}class mt extends F{constructor(t){super(),z(this,t,ct,lt,D,{})}}export{mt as component};
